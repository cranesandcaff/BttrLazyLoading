!function(){"use strict";var a,b,c;a=jQuery,b=function(){function m(b,c){var d,e=this;null==c&&(c={}),this.$img=a(b),this.loaded=!1,this.loading=!1,d=a.extend(!0,{},a.bttrlazyloading.constructor.options),this.options=a.extend(!0,d,c),this.ranges=a.bttrlazyloading.constructor.ranges,this.$container=a(this.options.container),"number"==typeof window.devicePixelRatio&&(this.constructor.dpr=window.devicePixelRatio),this.whiteList=["lg","md","sm","xs"],this.blackList=[],i.call(this),this.$wrapper=a('<span class="bttrlazyloading-wrapper"></span>'),this.options.wrapperClasses&&"string"==typeof this.options.wrapperClasses&&this.$wrapper.addClass(this.options.wrapperClasses),this.$img.before(this.$wrapper),this.$clone=a('<canvas class="bttrlazyloading-clone"></canvas>'),l.call(this),this.$wrapper.append(this.$clone),this.$img.hide(),this.$wrapper.append(this.$img),this.options.backgroundcolor&&this.$wrapper.css("background-color",this.options.backgroundcolor),j.call(this,"on"),setTimeout(function(){return k.call(e)},100)}var b,c,d,e,f,g,h,i,j,k,l;return m.dpr=1,l=function(){var a;return a=c.call(this),this.$clone.attr("width",a.width),this.$clone.attr("height",a.height)},i=function(){var b=this;return a.each(this.$img.data(),function(c,d){if(d)if(0!==c.indexOf("bttrlazyloading"),c=c.replace("bttrlazyloading","").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().split("-"),c.length>1){if("undefined"!=typeof b.options[c[0]][c[1]])return b.options[c[0]][c[1]]=d}else{if("object"==typeof d)return a.extend(b.options[c[0]],d);if("undefined"!=typeof b.options[c[0]])return b.options[c[0]]=d}})},j=function(d){var e,f,g,h,i=this;return g=function(){return i.$clone.hide(),i.$img.show(),i.$img.addClass("bttrlazyloading-loaded"),i.options.animation&&i.$img.addClass("animated "+i.options.animation),i.loaded=i.$img.attr("src"),i.$wrapper.css("background-color",i.options.loadedColor),i.$img.trigger("bttrlazyloading.afterLoad")},this.$img[d]("load",g),e=function(){var d;return i.loading?void 0:(i.loading=!0,d=c.call(i),i.loaded?(i.$img.removeClass("bttrlazyloading-loaded"),i.options.animation&&i.$img.removeClass("animated "+i.options.animation),i.$img.removeAttr("src"),i.$img.hide(),i.$clone.attr("width",d.width),i.$clone.attr("height",d.height),i.$clone.show()):i.$wrapper.css("background-image","url('"+i.options.placeholder+"')"),setTimeout(function(){return i.$img.trigger("bttrlazyloading.beforeLoad"),i.$img.data("bttrlazyloading.range",d.range),i.$img.attr("src",b.call(i,d.src,d.range)),i.loading=!1},i.options.delay))},this.$img[d]("bttrlazyloading.load",e),f=function(){var b,c;if(c=i.$img.attr("src"),b=i.$img.data("bttrlazyloading.range"),i.constructor.dpr>=2&&i.options.retina&&c.match(/@2x/gi))i.blackList.push(b+"@2x");else if(i.blackList.push(b),i.whiteList.splice(i.whiteList.indexOf(b),1),0===i.whiteList.length)return i.$img.trigger("bttrlazyloading.error"),!1;return i.$img.trigger("bttrlazyloading.load")},this.$img[d]("error",f),h=function(){return k.call(i)},this.$container[d](this.options.event,h),this.options.container!==window&&a(window)[d](this.options.event,h),a(window)[d]("resize",h)},f=function(){var a;return a=window.innerWidth,a<=this.ranges.xs?"xs":this.ranges.sm<=a&&a<this.ranges.md?"sm":this.ranges.md<=a&&a<this.ranges.lg?"md":this.ranges.lg<=a?"lg":void 0},c=function(){return this.range=f.call(this),e.call(this)},b=function(a,b){return this.constructor.dpr>=2&&this.options.retina&&-1===this.blackList.indexOf(b+"@2x")?a.replace(/\.\w+$/,function(a){return"@2x"+a}):a},d=function(a){return"undefined"!=typeof this.options[a].src&&null!==this.options[a].src?this.options[a]:null},e=function(){var a,b,c,e,f,g;if(a=this.whiteList.indexOf(this.range),a>-1&&(c=d.call(this,this.range)))return c.range=this.range,c;for(g=this.whiteList,a=e=0,f=g.length;f>e;a=++e)if(b=g[a],c=d.call(this,b))return c.range=b,c;return""},g=function(){var d,e,f;return!this.loaded&&this.options.triggermanually?!1:this.loaded&&this.options.updatemanually?!1:(d=c.call(this),d.src&&this.loaded!==b.call(this,d.src,d.range)?(f=0,this.loaded||(f=this.options.threshold),e=h.call(this,a(window),{top:a(window).scrollTop()+f,left:a(window).scrollLeft()}),this.options.container!==window?e&&h.call(this,this.$container,{top:this.$container.offset().top+f,left:this.$container.offset().left}):e):!1)},h=function(a,b){var c;return null==b&&(b={}),b.right=b.left+a.width(),b.bottom=b.top+a.height(),c=this.$wrapper.offset(),c.right=c.left+this.$wrapper.outerWidth(),c.bottom=c.top+this.$wrapper.outerHeight(),!(b.right<c.left||b.left>c.right||b.bottom<c.top||b.top>c.bottom)},k=function(){return this.range!==f.call(this)&&l.call(this),g.call(this)?this.$img.trigger("bttrlazyloading.load"):void 0},m.prototype.get$Img=function(){return this.$img},m.prototype.get$Clone=function(){return this.$clone},m.prototype.get$Wrapper=function(){return this.$wrapper},m.prototype.destroy=function(){return this.$wrapper.before(this.$img),this.$wrapper.remove(),j.call(this,"off"),this.$img.off("bttrlazyloading"),this.$img.removeClass("bttrlazyloading-loaded"),this.options.animation&&this.$img.removeClass("animated "+this.options.animation),this.$img.removeData("bttrlazyloading"),this.$img},m}(),a.fn.extend({bttrlazyloading:function(c){return this.each(function(){var d,e;return d=a(this),e=d.data("bttrlazyloading"),"undefined"==typeof e&&(e=new b(this,c),d.data("bttrlazyloading",e)),"string"==typeof c&&"undefined"!=typeof e[c]?e[c].call(e):void 0})}}),a.fn.bttrlazyloading.Constructor=b,c=function(){function b(){}return b.prototype.version="1.0.3",b.ranges={xs:767,sm:768,md:992,lg:1200},b.options={xs:{src:null,width:100,height:100},sm:{src:null,width:100,height:100},md:{src:null,width:100,height:100},lg:{src:null,width:100,height:100},retina:!1,animation:"bounceIn",delay:0,event:"scroll",container:window,threshold:0,loadedColor:"#fff",triggermanually:!1,updatemanually:!1,wrapperClasses:null,backgroundcolor:"#EEE",placeholder:"data:image/gif;base64,R0lGODlhEAALAPQAAP/391tbW+bf3+Da2vHq6l5dXVtbW3h2dq6qqpiVldLMzHBvb4qHh7Ovr5uYmNTOznNxcV1cXI2Kiu7n5+Xf3/fw8H58fOjh4fbv78/JycG8vNzW1vPs7AAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA"},b.prototype.setOptions=function(b){return null==b&&(b={}),a.extend(!0,this.constructor.options,b),this},b.prototype.setRanges=function(b){return null==b&&(b={}),a.extend(!0,this.constructor.ranges,b),this},b}(),a.bttrlazyloading=new c}.call(this);
